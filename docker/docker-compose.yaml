version: "3.3"

services:
  redis1:
    image: redis:8
    container_name: redis1
    volumes:
      - /container/redis1/data:/data
      - /container/redis1/config:/usr/local/etc/redis
    command: ["redis-server", "/usr/local/etc/redis/redis.conf"]
    network_mode: host

  redis2:
    image: redis:8
    container_name: redis2
    volumes:
      - /container/redis2/data:/data
      - /container/redis2/config:/usr/local/etc/redis
    command: ["redis-server", "/usr/local/etc/redis/redis.conf"]
    network_mode: host
